<template>
    <lightning-card>
        <div class="exampleHolder" if:true={showSpinner}>
            <lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
        </div>
                <h3 style="text-align: center; font-weight:700">Create Payment Method</h3>
        <lightning-layout multiple-rows="false" class="slds-wrap">

                    <lightning-layout-item size="12" 
                        small-device-size="6" 
                        medium-device-size="4" 
                        large-device-size="12"
                        padding="around-small">

                        <lightning-input type="Text"
                                        name="PaymentMethodName"
                                        label="Card Name"
                                        data-id = "checkValidity"
                                        required="true"
                                        max-length="16"
                                        value={record.PaymentMethodName}
                                        onchange={handleChange} >
                        </lightning-input>


                    </lightning-layout-item>
                    <lightning-layout-item size="12" 
                        small-device-size="6" 
                        medium-device-size="4" 
                        large-device-size="12"
                        padding="around-small">

                        <lightning-input type="number"
                                        name="cardNumber"
                                        label="Card Number"
                                        data-id = "checkValidity"
                                        required="true"
                                        max="9999999999999999"
                                        min="1000000000000000"
                                        max-length="16"
                                        message-when-range-underflow = 'Please enter valid card number!'
                                        value={record.cardNumber}
                                        onchange={handleChange} >
                        </lightning-input>


                    </lightning-layout-item>

                    <lightning-layout-item size="12" 
                        small-device-size="6" 
                        medium-device-size="4" 
                        large-device-size="6"
                        padding="around-small">

                        <lightning-input type="number"
                                            name="Cvv"
                                            label="CVV"
                                            max-length="4"
                                            required="true"
                                            min-length="3"
                                            max	="9999"
                                            min	="100"
                                            message-when-range-underflow = 'Please enter valid CVV number!'
                                            data-id = "checkValidity"
                                            value={record.Cvv}
                                            onchange={handleChange}>
                        </lightning-input>

                    </lightning-layout-item>




                    <lightning-layout-item size="12" 
                                        small-device-size="6" 
                                        medium-device-size="4" 
                                        large-device-size="6"
                                        padding="around-small">

                    

                    <lightning-input type="number"
                                        name="cardExpiryMonth"
                                        label="Card Expiry Month"
                                        data-id = "checkValidity"
                                        required="true"
                                        min="2"
                                        max="2"
                                        value={record.cardExpiryMonth}
                                        onchange={handleChange}>
                     </lightning-input>

                    </lightning-layout-item>


                    <lightning-layout-item size="12" 
                                            small-device-size="6" 
                                            medium-device-size="4" 
                                            large-device-size="6"
                                            padding="around-small">

                        <lightning-input type="number"
                                            name="cardExpiryYear"
                                            label="card Expiry Year"
                                            data-id = "checkValidity"
                                            required="true"
                                            max-length="4"
                                            min-length="4"
                                            message-when-range-underflow = 'Please enter valid Year number!'
                                            min={currentYear}
                                            value={record.cardExpiryYear}
                                            onchange={handleChange}>
                        </lightning-input>


                    </lightning-layout-item>



                    <lightning-layout-item size="12" 
                                        small-device-size="6" 
                                        medium-device-size="4" 
                                        large-device-size="6"
                                        padding="around-small">

                    
                                        <lightning-input 
                                        class="slds-p-left_xx-large" 
                                        type="checkbox" 
                                        data-id="checkbox"
                                        name="isDefault" 
                                        label="is Default" 
                                        checked={record.isDefault}
                                        onchange={handleChange}>
                                    </lightning-input>
                    </lightning-layout-item>

                

                    <lightning-button
                                name="Charge"
                                label="Create Payment Method"
                                class="slds-align--absolute-center"
                                onclick={handleCharge}
                                disabled={record.StripeId}>

                    </lightning-button>
                    
    </lightning-layout>
        <c-popup onhandlecancel={closePopUp} if:true={showPopUp} emplyee-number={employeeNumber}>
            
        </c-popup>
    </lightning-card>

</template>